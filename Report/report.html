<!doctype html>
<html>
 <head>
    <title>Skewb Solver Readme/Report</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=defice-width, initial-scale=1.0">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link id="theme-stylesheet" rel="stylesheet" href="theme/theme.css">
    <script src="theme/change_theme.js"></script>
 </head>
 <body>
    <button id="theme-toggle"></button>
  <div md-src-pos="0..16811">
   <h1 id="skewb-solver-monte-carlo" md-src-pos="0..28">Skewb Solver (Monte Carlo)</h1>
   <h2 id="4061-project-b-report" md-src-pos="29..53">4061 Project B report</h2>
   <h2 id="content" md-src-pos="55..65">Content</h2>
   <ol md-src-pos="67..1303">
    <li md-src-pos="67..113"><a href="#1-about-the-project" md-src-pos="70..111">About the project</a></li>
    <li md-src-pos="114..240"><a href="#2-getting-started" md-src-pos="117..154">Getting Started</a><br>
      i. <a href="#2-i-installation" md-src-pos="163..196">Installation</a><br>
      ii. <a href="#2-ii-preparation" md-src-pos="206..238">Preparation</a></li>
    <li md-src-pos="241..263"><a href="#3-usage" md-src-pos="244..261">Usage</a></li>
    <li md-src-pos="264..312"><a href="#4-more-customisation" md-src-pos="267..310">More Customisation</a></li>
    <li md-src-pos="313..826"><a href="#5-how-this-programme-works" md-src-pos="316..371">How this Programme Works</a><br>
      i. <a href="#5-i-understanding-mechanism-of-the-skewb" md-src-pos="380..461">Understanding Mechanism of the Skewb</a><br>
      ii. <a href="#5-ii-defining-the-state-of-the-skewb" md-src-pos="471..543">Defining the State of the Skewb</a><br>
      iii. <a href="#5-iii-defining-turns" md-src-pos="554..593">Defining Turns</a><br>
      iv. <a href="#5-iv-gods-number" md-src-pos="603..636">God's Number</a><br>
      v. <a href="#5-v-monte-carlo" md-src-pos="645..676">Monte Carlo</a><br>
      vi. <a href="#5-vi-colour-recognition" md-src-pos="686..732">Colour Recognition</a><br>
      vii. <a href="#5-vii-inputting-colour-with-python-script" md-src-pos="743..824">Inputting Colour with Python Script</a></li>
    <li md-src-pos="827..1237"><a href="#6-more-statistics" md-src-pos="830..867">More Statistics</a><br>
      i. <a href="#6-i-finding-fewest-moves-solution-for-carter" md-src-pos="876..965">Finding Fewest Moves Solution for Carter</a><br>
      ii. <a href="#6-ii-average-iterations-needed-to-find-the-solutions-and-the-average-moves-of-the-solutions" md-src-pos="975..1157">Average Iterations Needed to Find the Solutions and the Average Moves of the Solutions</a><br>
      iii. <a href="#6-iii-giving-hints-to-the-programme" md-src-pos="1168..1237">Giving Hints to the Programme</a></li>
    <li md-src-pos="1238..1272"><a href="#7-future-works" md-src-pos="1241..1272">Future Works</a></li>
    <li md-src-pos="1273..1303"><a href="#8-reference" md-src-pos="1276..1301">Reference</a></li>
   </ol>
   <hr>
   <h2 id="1-about-the-project" md-src-pos="1310..1333">1. About the Project</h2>
   <p md-src-pos="1335..1456"><span md-src-pos="1335..1396">This programme allows user to capture all sides of the skewb,</span> <span md-src-pos="1397..1456">and solve it with the algorithm found by using Monte Carlo.</span></p>
   <h2 id="2-getting-started" md-src-pos="1458..1479">2. Getting Started</h2>
   <h3 id="2-i-installation" md-src-pos="1481..1503">2. i. Installation</h3>
   <p md-src-pos="1505..1597"><span md-src-pos="1505..1544">To be able to run the python programme,</span> <span md-src-pos="1545..1568">you need to have numpy,</span> <span md-src-pos="1569..1597">Pillow and OpenCV installed.</span></p>
   <ul md-src-pos="1599..1741">
    <li md-src-pos="1599..1641">
     <p md-src-pos="1601..1606">numpy</p>
<pre class="code-fence">
<code class="language-cmd">pip install numpy</code>
</pre>
     <p md-src-pos="1647..1653">Pillow</p>
<pre class="code-fence">
<code class="language-cmd">pip install pillow</code>
</pre>
     <p md-src-pos="1692..1698">OpenCV</p>
<pre class="code-fence">
<code class="language-cmd">pip install opencv-python</code>
</pre>
   </ul>
   <h3 id="2-ii-preparation" md-src-pos="1743..1765">2. ii. Preparation</h3>
   <p md-src-pos="1766..1825"><span md-src-pos="1766..1825">Please put all the files and folders in the same directory.</span></p>
   <p md-src-pos="1827..1990"><span md-src-pos="1827..1869">The colour input is done by python opencv,</span> <span md-src-pos="1870..1915">and the skewb algorithm finder is done in C++</span> <span md-src-pos="1916..1934">using Monte Carlo.</span> <span md-src-pos="1935..1945">Therefore,</span> <span md-src-pos="1946..1979">you need to first compile the C++</span> <span md-src-pos="1980..1990">programme.</span></p>
   <ul md-src-pos="1991..2067">
    <li md-src-pos="1991..2067">Compile the C++ script
<pre class="code-fence">
<code class="language-cmd">g++ skewb_solution_finder.cpp -o a</code>
</pre>
   </ul>
   <p md-src-pos="2069..2160"><span md-src-pos="2069..2074">Then,</span> <span md-src-pos="2075..2129">after you scanned the cube using the python programme,</span> <span md-src-pos="2130..2160">it will run the compiled file.</span></p>
   <p md-src-pos="2162..2227"><span md-src-pos="2162..2226">This programme requires you to connect a webcam to the computer,</span></p>
   <ul md-src-pos="2229..2482">
    <li md-src-pos="2229..2356">
     <p md-src-pos="2231..2310">Change the webcam number in the code in line 8 of skewb_solver.py if necessary.</p>
<pre class="code-fence">
<code class="language-python">cap = cv2.VideoCapture(0)</code>
</pre>
     <p md-src-pos="2360..2422">If you are using a linux system, change the code as following.</p>
<pre class="code-fence">
<code class="language-python">cap = cv2.VideoCapture(0, cv2.CAP_V4L2)</code>
</pre>
   </ul>
   <h2 id="3-usage" md-src-pos="2484..2495">3. Usage</h2>
   <p md-src-pos="2496..2969"><span md-src-pos="2496..2515">The main code is in</span> <strong md-src-pos="2516..2535">skewb_solver.py</strong><span md-src-pos="2535..2536">.</span> <span md-src-pos="2537..2592">Run this python script and scan each face of the skewb.</span> <span md-src-pos="2593..2617">When you scan the skewb,</span> <span md-src-pos="2618..2718">you have to first find the white-green-red corner and place it at bottom right with white facing up.</span> <span md-src-pos="2719..2749">Press enter to capture a face,</span> <span md-src-pos="2750..2846">then follow the animation in the OpenCV preview window to rotate the cube to scan the next face.</span> <span md-src-pos="2847..2896">Should you have any difficulty scanning the cube,</span> <span md-src-pos="2897..2925">you could take a look at the</span> <a href="https://youtu.be/f4b-0wV-rUE" md-src-pos="2926..2968">demo video</a><span md-src-pos="2968..2969">.</span></p><iframe width="640" height="360" src="https://www.youtube.com/embed/f4b-0wV-rUE" title="Skewb solver programme demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen> </iframe>
   <p md-src-pos="3289..3512"><span md-src-pos="3289..3314">After scanning all faces,</span> <span md-src-pos="3315..3368">the python programme will return the skewb algorithm.</span> <span md-src-pos="3369..3423">The skewb algorithm follows the WCA standard notation.</span> <span md-src-pos="3424..3473">Please refer to quick guide to WCA skewb notation</span> <a href="https://youtu.be/V7M_IKuUREs" md-src-pos="3474..3511">video</a><span md-src-pos="3511..3512">.</span></p>
   <p md-src-pos="3514..3835"><iframe width="640" height="360" src="https://www.youtube.com/embed/V7M_IKuUREs" title="Quick Guide to WCA Skewb Notation" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></p>
   <p md-src-pos="3837..4015"><span md-src-pos="3837..3840">Or,</span> <span md-src-pos="3841..3971">you could just click the link in the terminal under the skewb algorithm for the animation of showing the algorithm as shown in the</span> <a href="https://youtu.be/f4b-0wV-rUE" md-src-pos="3972..4014">demo video</a><span md-src-pos="4014..4015">.</span></p>
   <h2 id="4-more-customisation" md-src-pos="4017..4041">4. More Customisation</h2>
   <p md-src-pos="4043..4248"><span md-src-pos="4043..4046">Let</span>'<span md-src-pos="4047..4074">s say you are right handed,</span> <span md-src-pos="4075..4133">you might want an algorithm that contain less lefty moves.</span> <span md-src-pos="4134..4247">You could actually tune the ratio of the probability of the type of turns that come up in Monte Carlo simulation.</span></p>
   <ul md-src-pos="4250..4556">
    <li md-src-pos="4250..4445">Tune the numbers in line 8 of <strong md-src-pos="4282..4311">skewb_solution_finder.cpp</strong>. The numbers in array mean the probability of R showing up to L to U to B respectively.
<pre class="code-fence">
<code class="language-cpp">int ratio[4] = {1, 1, 1, 1};</code>
</pre>
    <li md-src-pos="4446..4556">If you change the array to {3, 1, 1, 1}, R moves will come up 3 times more frequently than L, U and B moves.</li>
   </ul>
   <h2 id="5-how-this-programme-works" md-src-pos="4558..4588">5. How this Programme Works</h2>
   <p md-src-pos="4590..5046"><span md-src-pos="4590..4596">In the</span> <strong md-src-pos="4597..4626">skewb_solution_finder.cpp</strong><span md-src-pos="4626..4627">,</span> <span md-src-pos="4628..4675">I defined the state of the skewb using 3 arrays</span> (<span md-src-pos="4677..4700">will be explained later</span>)<span md-src-pos="4701..4702">.</span> <span md-src-pos="4703..4741">When you compiled and run this script,</span> <span md-src-pos="4742..4785">you need to find the white-green-red corner</span> (<span md-src-pos="4787..4816">I will also explain why later</span>)<span md-src-pos="4817..4818">,</span> <span md-src-pos="4819..4838">and place in front,</span> <span md-src-pos="4839..4872">with white on top as shown below,</span> <span md-src-pos="4873..4931">then input the colours one by one in the order shown below</span> (<span md-src-pos="4933..4957">note that if you use run</span> <strong md-src-pos="4958..4977">skewb_solver.py</strong> <span md-src-pos="4978..4996">and scan the cube,</span> <span md-src-pos="4997..5044">it will automatically input the colours for you</span>)<span md-src-pos="5045..5046">.</span></p>
   <ul md-src-pos="5048..5132">
    <li md-src-pos="5048..5132">Input w for white, g for green, r for red, b for blue, o for orange, y for yellow.</li>
   </ul>
   <table md-src-pos="5134..5226">
    <thead>
     <tr md-src-pos="5134..5146">
      <th align="center" md-src-pos="5135..5140">Front</th>
      <th align="center" md-src-pos="5141..5145">Back</th>
     </tr>
    </thead>
    <tbody>
     <tr md-src-pos="5161..5226">
      <td align="center" md-src-pos="5162..5194"><img src="order_front.jpeg" alt="orderfront" __idea-generated="true" md-src-pos="5162..5194" data-original-src="order_front.jpeg"></td>
      <td align="center" md-src-pos="5195..5225"><img src="order_back.jpeg" alt="orderback" __idea-generated="true" md-src-pos="5195..5225" data-original-src="order_back.jpeg"></td>
     </tr>
    </tbody>
   </table>
   <p md-src-pos="5228..5325"><span md-src-pos="5228..5316">Then there is a function that converts the colours to the 3 arrays that define the skewb</span>'<span md-src-pos="5317..5325">s state.</span></p>
   <h3 id="5-i-understanding-mechanism-of-the-skewb" md-src-pos="5327..5373">5. i. Understanding Mechanism of the Skewb</h3>
   <table md-src-pos="5375..5548">
    <thead>
     <tr md-src-pos="5375..5418">
      <th align="center" md-src-pos="5376..5383">Centres</th>
      <th align="center" md-src-pos="5384..5400">Attached corners</th>
      <th align="center" md-src-pos="5401..5417">Floating corners</th>
     </tr>
    </thead>
    <tbody>
     <tr md-src-pos="5439..5548">
      <td align="center" md-src-pos="5440..5463"><img src="centres.png" alt="centres" __idea-generated="true" md-src-pos="5440..5463" data-original-src="centres.png"></td>
      <td align="center" md-src-pos="5464..5505"><img src="attached_corners.png" alt="attachedcorners" __idea-generated="true" md-src-pos="5464..5505" data-original-src="attached_corners.png"></td>
      <td align="center" md-src-pos="5506..5547"><img src="floating_corners.png" alt="floatingcorners" __idea-generated="true" md-src-pos="5506..5547" data-original-src="floating_corners.png"></td>
     </tr>
    </tbody>
   </table>
   <p md-src-pos="5550..5975"><span md-src-pos="5550..5574">As shown in the figures,</span> <span md-src-pos="5575..5623">centre is the center piece with only one colour.</span> <span md-src-pos="5624..5668">Corner on the other hand contains 3 colours,</span> <span md-src-pos="5669..5701">and they are categorised into 2,</span> <span md-src-pos="5702..5719">attached corners,</span> <span md-src-pos="5720..5741">and floating corners.</span> <span md-src-pos="5742..5772">When you disassemble the cube,</span> <span md-src-pos="5773..5845">you will find that the attached corners are connected to the core piece,</span> <span md-src-pos="5846..5889">and their relative positions cannot change.</span> <span md-src-pos="5890..5925">Floating corners of the other hand,</span> <span md-src-pos="5926..5953">do not connect to the core,</span> <span md-src-pos="5954..5975">they can move around.</span></p>
   <h3 id="5-ii-defining-the-state-of-the-skewb" md-src-pos="5977..6019">5. ii. Defining the State of the Skewb</h3>
   <p md-src-pos="6021..6141"><span md-src-pos="6021..6076">Now that you understand the basic mechanism of a skewb,</span> <span md-src-pos="6077..6141">we can now try to understand how to define the state of a skewb.</span></p>
   <p md-src-pos="6143..6492"><span md-src-pos="6143..6151">In fact,</span> <span md-src-pos="6152..6256">there are only 8 different kinds of individual turns of a skewb needed to attain any state of the skewb.</span> <span md-src-pos="6257..6272">In other words,</span> <span md-src-pos="6273..6346">only 8 different kinds of turns are needed to solve a skewb of any state.</span> <span md-src-pos="6347..6399">You could refer to quick guide to WCA skewb notation</span> <a href="https://youtu.be/V7M_IKuUREs" md-src-pos="6400..6437">video</a> <span md-src-pos="6438..6492">to learn the 8 different moves used in this programme.</span></p>
   <p md-src-pos="6494..6862"><span md-src-pos="6494..6509">Coincidentally,</span> <span md-src-pos="6510..6589">if you put white-green-red corner in front with white facing up as shown in the</span> <a href="https://youtu.be/V7M_IKuUREs" md-src-pos="6590..6627">video</a><span md-src-pos="6627..6628">,</span> <span md-src-pos="6629..6689">all the 8 turns will not affect this white-green-red corner.</span> <span md-src-pos="6690..6742">We can conveniently use this corner as anchor as our</span> "<span md-src-pos="6744..6756">virtual cube</span>" (<span md-src-pos="6759..6838">which means the programme will be based on the white-green-red corner in front,</span> <span md-src-pos="6839..6860">with white facing top</span>)<span md-src-pos="6861..6862">.</span></p>
   <p md-src-pos="6864..7000"><span md-src-pos="6864..6897">The first array is called centres</span>[6]<span md-src-pos="6900..6901">,</span> <span md-src-pos="6902..6939">this defines the position of centres.</span> <span md-src-pos="6940..7000">The integers are mapped to different centres as shown below.</span></p>
   <ul md-src-pos="7002..7126">
    <li md-src-pos="7002..7022">0 --&gt; white centre</li>
    <li md-src-pos="7023..7043">1 --&gt; green centre</li>
    <li md-src-pos="7044..7062">2 --&gt; red centre</li>
    <li md-src-pos="7063..7082">3 --&gt; blue centre</li>
    <li md-src-pos="7083..7104">4 --&gt; orange centre</li>
    <li md-src-pos="7105..7126">5 --&gt; yellow centre</li>
   </ul>
   <p md-src-pos="7128..7373"><span md-src-pos="7128..7216">First entry of the array stores the position that white centre should be at when solved,</span> <span md-src-pos="7217..7293">second entry stores the position that green centre should be at when solved,</span> <span md-src-pos="7294..7304">and so on.</span> <span md-src-pos="7305..7333">When the centres are solved,</span> <span md-src-pos="7334..7353">the array should be</span> <span md-src-pos="7354..7357">{0,</span> <span md-src-pos="7358..7360">1,</span> <span md-src-pos="7361..7363">2,</span> <span md-src-pos="7364..7366">3,</span> <span md-src-pos="7367..7369">4,</span> <span md-src-pos="7370..7373">5}.</span></p>
   <p md-src-pos="7375..7521"><span md-src-pos="7375..7411">The second array is called corners_p</span>[7]<span md-src-pos="7414..7415">,</span> <span md-src-pos="7416..7460">this defines the permutation of the corners.</span> <span md-src-pos="7461..7521">The integers are mapped to different corners as shown below.</span></p>
   <ul md-src-pos="7523..7751">
    <li md-src-pos="7523..7555">0 --&gt; white-orange-blue corner</li>
    <li md-src-pos="7556..7585">1 --&gt; white-red-blue corner</li>
    <li md-src-pos="7586..7619">2 --&gt; white-green-orange corner</li>
    <li md-src-pos="7620..7651">3 --&gt; yellow-green-red corner</li>
    <li md-src-pos="7652..7682">4 --&gt; yellow-red-blue corner</li>
    <li md-src-pos="7683..7716">5 --&gt; yellow-blue-orange corner</li>
    <li md-src-pos="7717..7751">6 --&gt; yellow-green-orange corner</li>
   </ul>
   <p md-src-pos="7753..8037"><span md-src-pos="7753..7853">First entry of the array stores the position that white-orange-blue corner should be at when solved,</span> <span md-src-pos="7854..7939">second entry stores the position that white-red-blue corner should be at when solved,</span> <span md-src-pos="7940..7950">and so on.</span> <span md-src-pos="7951..7994">When the permutation of corners are solved,</span> <span md-src-pos="7995..8014">the array should be</span> <span md-src-pos="8015..8018">{0,</span> <span md-src-pos="8019..8021">1,</span> <span md-src-pos="8022..8024">2,</span> <span md-src-pos="8025..8027">3,</span> <span md-src-pos="8028..8030">4,</span> <span md-src-pos="8031..8033">5,</span> <span md-src-pos="8034..8037">6}.</span></p>
   <p md-src-pos="8039..8608"><span md-src-pos="8039..8074">The third array is called corners_o</span>[7]<span md-src-pos="8077..8078">,</span> <span md-src-pos="8079..8123">this defines the orientation of the corners.</span> <span md-src-pos="8124..8176">Each corner must have either white or yellow colour,</span> <span md-src-pos="8177..8226">when the white or yellow colour faces up or down,</span> <span md-src-pos="8227..8242">the entry is 0,</span> <span md-src-pos="8243..8282">when it faces right-front or left-back,</span> <span md-src-pos="8283..8298">the input is 1,</span> <span md-src-pos="8299..8338">when it faces left-front or right-back,</span> <span md-src-pos="8339..8354">the input is 2.</span> <span md-src-pos="8355..8421">The first entry stores the orientation of white-orange-blue corner</span> (<span md-src-pos="8423..8431">0 corner</span>)<span md-src-pos="8432..8433">,</span> <span md-src-pos="8434..8498">the second entry stores the orientation of white-red-blue corner</span> (<span md-src-pos="8500..8508">1 corner</span>)<span md-src-pos="8509..8510">,</span> <span md-src-pos="8511..8521">and so on.</span> <span md-src-pos="8522..8565">When the orientation of corners are solved,</span> <span md-src-pos="8566..8585">the array should be</span> <span md-src-pos="8586..8589">{0,</span> <span md-src-pos="8590..8592">0,</span> <span md-src-pos="8593..8595">0,</span> <span md-src-pos="8596..8598">0,</span> <span md-src-pos="8599..8601">0,</span> <span md-src-pos="8602..8604">0,</span> <span md-src-pos="8605..8608">0}.</span></p>
   <h3 id="5-iii-defining-turns" md-src-pos="8610..8636">5. iii. Defining Turns</h3>
   <p md-src-pos="8638..8844"><span md-src-pos="8638..8666">There are 8 different turns,</span> <span md-src-pos="8667..8676">namely R,</span> <span md-src-pos="8677..8678">R</span>'<span md-src-pos="8679..8680">,</span> <span md-src-pos="8681..8683">L,</span> <span md-src-pos="8684..8685">L</span>'<span md-src-pos="8686..8687">,</span> <span md-src-pos="8688..8690">U,</span> <span md-src-pos="8691..8692">U</span>'<span md-src-pos="8693..8694">,</span> <span md-src-pos="8695..8702">B and B</span>'<span md-src-pos="8703..8704">.</span> <span md-src-pos="8705..8727">There are 8 functions,</span> <span md-src-pos="8728..8746">one for each turn.</span> <span md-src-pos="8747..8828">Each functions will apply necessary changes to the 3 arrays to do the turn to the</span> "<span md-src-pos="8830..8842">virtual cube</span>"<span md-src-pos="8843..8844">.</span></p>
   <h3 id="5-iv-gods-number" md-src-pos="8846..8869">5. iv. God's Number</h3>
   <p md-src-pos="8871..8986"><span md-src-pos="8871..8874">God</span>'<span md-src-pos="8875..8951">s number is the maximum number of turns needed to solve any state of a cube.</span> <span md-src-pos="8952..8962">For skewb,</span> <span md-src-pos="8963..8970">the God</span>'<span md-src-pos="8971..8986">s number is 11.</span></p>
   <h3 id="5-v-monte-carlo" md-src-pos="8988..9009">5. v. Monte Carlo</h3>
   <p md-src-pos="9011..9474"><span md-src-pos="9011..9113">This programme will then do random moves to the skewb and check whether it is solved after each moves.</span> <span md-src-pos="9114..9159">If solution is not found after doing 12 moves</span> (<span md-src-pos="9161..9183">one more move than God</span>'<span md-src-pos="9184..9192">s number</span>)<span md-src-pos="9193..9194">,</span> <span md-src-pos="9195..9232">it will search for another algorithm.</span> <span md-src-pos="9233..9284">The programme will avoid applying duplicated moves,</span> <span md-src-pos="9285..9307">such as R after R or R</span>'<span md-src-pos="9308..9309">.</span> <span md-src-pos="9310..9390">The Monte Carlo simulation will be based on the ratio set in line 8 of the code,</span> <span md-src-pos="9391..9474">and the probability of generating clockwise and counterclockwise turn are the same.</span></p>
   <h3 id="5-vi-colour-recognition" md-src-pos="9476..9505">5. vi. Colour Recognition</h3>
   <p md-src-pos="9507..9656"><span md-src-pos="9507..9555">The colour recognition is done by python opencv.</span> <span md-src-pos="9556..9585">For colours other than white,</span> <span md-src-pos="9586..9656">I allowed a range of hue and saturation shift from my defined colours.</span></p>
<pre class="code-fence">
<code class="language-python">def get_limits(colour):
    #...
    lower_limit = hsvC[0][0][0] - 10, 100, 100
    upper_limit = hsvC[0][0][0] + 10, 255, 255
    #...
    return lower_limit, upper_limit</code>
</pre>
   <p md-src-pos="9845..9977"><span md-src-pos="9845..9867">In the above function,</span> <span md-src-pos="9868..9871">the</span> <span md-src-pos="9872..9879">-10 and</span> <span md-src-pos="9880..9904">+10 refers to hue shift,</span> <span md-src-pos="9905..9977">while 100 and 255 refers to minimum and maximum saturation respectively.</span></p>
   <p md-src-pos="9979..10109"><span md-src-pos="9979..9996">For white colour,</span> <span md-src-pos="9997..9999">it</span>'<span md-src-pos="10000..10042">s not that meaningful to define hue shift.</span> <span md-src-pos="10043..10053">Therefore,</span> <span md-src-pos="10054..10109">I hard coded the lower and upper limit of white colour.</span></p>
<pre class="code-fence">
<code class="language-python">lower_white, upper_white = np.array([0, 0, 150], dtype=np.uint8), np.array([179, 55, 255], dtype=np.uint8)</code>
</pre>
   <h3 id="5-vii-inputting-colour-with-python-script" md-src-pos="10233..10280">5. vii. Inputting Colour With Python Script</h3>
<pre class="code-fence">
<code class="language-python">process = subprocess.Popen(['./a'], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)
output, error = process.communicate(input=input_string)
if error:
    print(error)
else:
    print(output)</code>
</pre>
   <p md-src-pos="10522..10724"><span md-src-pos="10522..10535">At the end of</span> <strong md-src-pos="10536..10555">skewb_solver.py</strong><span md-src-pos="10555..10556">,</span> <span md-src-pos="10557..10572">it will run the</span> <strong md-src-pos="10573..10580">./a</strong> <span md-src-pos="10581..10594">compiled from</span> <strong md-src-pos="10595..10624">skewb_solution_finder.cpp</strong><span md-src-pos="10624..10625">,</span> <span md-src-pos="10626..10669">then it will input the colour of each side,</span> <span md-src-pos="10670..10713">capture and display the output from the C++</span> <span md-src-pos="10714..10724">programme.</span></p>
   <h2 id="6-more-statistics" md-src-pos="10726..10747">6. More Statistics</h2>
   <h3 id="6-i-finding-fewest-moves-solution-for-carter" md-src-pos="10749..10799">6. i. Finding Fewest Moves Solution for Carter</h3>
   <p md-src-pos="10801..10983"><span md-src-pos="10801..10826">I added a for loop to the</span> <strong md-src-pos="10827..10856">skewb_solution_finder.cpp</strong> <span md-src-pos="10857..10893">to search for solution for 50 times,</span> <span md-src-pos="10894..10944">and return the solution with the fewest move count</span> (<span md-src-pos="10946..10954">saved to</span> <strong md-src-pos="10955..10981">fewest_move_finder.cpp</strong>)<span md-src-pos="10982..10983">.</span></p>
   <p md-src-pos="10985..11346"><span md-src-pos="10985..11064">Then I tried to find the moves needed to solve the 5 scrambles of Carter Kucala</span>'<span md-src-pos="11065..11132">s final round at Going Fast in Grandview 2024 using this programme.</span> <span md-src-pos="11133..11220">The reason I chose this average was because the last solve was the world record single,</span> <span md-src-pos="11221..11265">but the other solves were not quite as fast.</span> <span md-src-pos="11266..11297">The table below shows the time,</span> <span md-src-pos="11298..11307">scramble,</span> <span md-src-pos="11308..11346">number of moves found by my programme.</span></p>
   <table md-src-pos="11348..11893">
    <thead>
     <tr md-src-pos="11348..11425">
      <th align="center" md-src-pos="11349..11357">Solve</th>
      <th align="center" md-src-pos="11358..11367">Result</th>
      <th align="center" md-src-pos="11368..11398">Scramble (11 moves)</th>
      <th align="center" md-src-pos="11399..11424">Fewest number of moves</th>
     </tr>
    </thead>
    <tbody>
     <tr md-src-pos="11504..11581">
      <td align="center" md-src-pos="11505..11513">1</td>
      <td align="center" md-src-pos="11514..11523">2.49</td>
      <td align="center" md-src-pos="11524..11554">R B L’ U’ L’ R B’ R’ B R B</td>
      <td align="center" md-src-pos="11555..11580">9</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="11582..11659">
      <td align="center" md-src-pos="11583..11591">2</td>
      <td align="center" md-src-pos="11592..11601">1.77</td>
      <td align="center" md-src-pos="11602..11632">U L U’ B’ U’ B’ U’ L B U’ R’</td>
      <td align="center" md-src-pos="11633..11658">9</td>
     </tr>
     <tr md-src-pos="11660..11737">
      <td align="center" md-src-pos="11661..11669">3</td>
      <td align="center" md-src-pos="11670..11679">3.32</td>
      <td align="center" md-src-pos="11680..11710">U L B U’ B’ L’ B R’ B’ L U</td>
      <td align="center" md-src-pos="11711..11736">7</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="11738..11815">
      <td align="center" md-src-pos="11739..11747">4</td>
      <td align="center" md-src-pos="11748..11757">4.65</td>
      <td align="center" md-src-pos="11758..11788">R B’ U’ B U B L’ U B’ U R</td>
      <td align="center" md-src-pos="11789..11814">8</td>
     </tr>
     <tr md-src-pos="11816..11893">
      <td align="center" md-src-pos="11817..11825">5</td>
      <td align="center" md-src-pos="11826..11835">0.75</td>
      <td align="center" md-src-pos="11836..11866">B L R’ B’ L U B’ R U’ R U</td>
      <td align="center" md-src-pos="11867..11892">8</td>
     </tr>
    </tbody>
   </table>
   <p md-src-pos="11895..12143"><span md-src-pos="11895..11914">For the last solve,</span> <span md-src-pos="11915..11948">he did find the 8 moves solution.</span> <span md-src-pos="11949..11957">However,</span> <span md-src-pos="11958..12015">he did not find the 7 moves solution for the third solve.</span> <span md-src-pos="12016..12081">This shows that the current method that the top solvers are using</span> (<span md-src-pos="12083..12095">NS algorithm</span>) <span md-src-pos="12097..12143">is unable to attain the fewest moves solution.</span></p>
   <p md-src-pos="12145..12332"><span md-src-pos="12145..12147">It</span>'<span md-src-pos="12148..12247">s also worth noting that the third fastest solve was done by Simon Kellum in this same competition,</span> <span md-src-pos="12248..12274">solving that same scramble</span>! <span md-src-pos="12276..12332">This shows that luck really play a role in skewb solves.</span></p>
   <h3 id="6-ii-average-iterations-needed-to-find-the-solutions-and-the-average-moves-of-the-solutions" md-src-pos="12334..12431">6. ii. Average Iterations Needed to Find the Solutions and the Average Moves of the Solutions</h3>
   <p md-src-pos="12433..12683"><span md-src-pos="12433..12467">I randomly generated 11 scrambles,</span> <span md-src-pos="12468..12502">with number of moves from 1 to 11,</span> <span md-src-pos="12503..12605">and tested how many iterations are needed to find the solutions for these scrambles using Monte Carlo,</span> <span md-src-pos="12606..12637">and the moves of the solutions,</span> <span md-src-pos="12638..12652">for 100 times.</span> <span md-src-pos="12653..12683">The averages are listed below.</span></p>
   <table md-src-pos="12685..13802">
    <thead>
     <tr md-src-pos="12685..12770">
      <th align="center" md-src-pos="12686..12704">Scrambles length</th>
      <th align="center" md-src-pos="12705..12732">Scrambles</th>
      <th align="center" md-src-pos="12733..12748">Average moves</th>
      <th align="center" md-src-pos="12749..12769">Average iterations</th>
     </tr>
    </thead>
    <tbody>
     <tr md-src-pos="12857..12942">
      <td align="center" md-src-pos="12858..12876">1</td>
      <td align="center" md-src-pos="12877..12904">U</td>
      <td align="center" md-src-pos="12905..12920">1</td>
      <td align="center" md-src-pos="12921..12941">7.72</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="12943..13028">
      <td align="center" md-src-pos="12944..12962">2</td>
      <td align="center" md-src-pos="12963..12990">B R</td>
      <td align="center" md-src-pos="12991..13006">2</td>
      <td align="center" md-src-pos="13007..13027">46.9</td>
     </tr>
     <tr md-src-pos="13029..13114">
      <td align="center" md-src-pos="13030..13048">3</td>
      <td align="center" md-src-pos="13049..13076">L U L</td>
      <td align="center" md-src-pos="13077..13092">3</td>
      <td align="center" md-src-pos="13093..13113">306.76</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="13115..13200">
      <td align="center" md-src-pos="13116..13134">4</td>
      <td align="center" md-src-pos="13135..13162">L' B' R U</td>
      <td align="center" md-src-pos="13163..13178">4</td>
      <td align="center" md-src-pos="13179..13199">1688.8</td>
     </tr>
     <tr md-src-pos="13201..13286">
      <td align="center" md-src-pos="13202..13220">5</td>
      <td align="center" md-src-pos="13221..13248">L U R' U' R</td>
      <td align="center" md-src-pos="13249..13264">5.361</td>
      <td align="center" md-src-pos="13265..13285">8162.51</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="13287..13372">
      <td align="center" md-src-pos="13288..13306">6</td>
      <td align="center" md-src-pos="13307..13334">R U' L' R L U'</td>
      <td align="center" md-src-pos="13335..13350">6.583</td>
      <td align="center" md-src-pos="13351..13371">45323.3</td>
     </tr>
     <tr md-src-pos="13373..13458">
      <td align="center" md-src-pos="13374..13392">7</td>
      <td align="center" md-src-pos="13393..13420">U L U' R B' R L</td>
      <td align="center" md-src-pos="13421..13436">8.1</td>
      <td align="center" md-src-pos="13437..13457">285151</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="13459..13544">
      <td align="center" md-src-pos="13460..13478">8</td>
      <td align="center" md-src-pos="13479..13506">R' L U B U B' L R</td>
      <td align="center" md-src-pos="13507..13522">9.55</td>
      <td align="center" md-src-pos="13523..13543">913639</td>
     </tr>
     <tr md-src-pos="13545..13630">
      <td align="center" md-src-pos="13546..13564">9</td>
      <td align="center" md-src-pos="13565..13592">R' L' R' L' B' L' U B' U</td>
      <td align="center" md-src-pos="13593..13608">9.32</td>
      <td align="center" md-src-pos="13609..13629">709984</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="13631..13716">
      <td align="center" md-src-pos="13632..13650">10</td>
      <td align="center" md-src-pos="13651..13678">L B' R U L U' L' R B' U'</td>
      <td align="center" md-src-pos="13679..13694">9.16</td>
      <td align="center" md-src-pos="13695..13715">444755</td>
     </tr>
     <tr md-src-pos="13717..13802">
      <td align="center" md-src-pos="13718..13736">11</td>
      <td align="center" md-src-pos="13737..13764">U' B U L U L R' B' L B' L</td>
      <td align="center" md-src-pos="13765..13780">9.39</td>
      <td align="center" md-src-pos="13781..13801">768838</td>
     </tr>
    </tbody>
   </table>
   <p md-src-pos="13804..13866"><span md-src-pos="13804..13833">To better visualise the data,</span> <span md-src-pos="13834..13866">I plotted the following 2 plots.</span></p>
   <p md-src-pos="13868..13949"><img src="average_moves.png" alt="averagemoves" class="invert"> <img src="average_iterations.png" alt="averageiterations" class="invert"></p>
   <p md-src-pos="13951..14417"><span md-src-pos="13951..13978">As observed from the plots,</span> <span md-src-pos="13979..14120">the number of iteration needed to find the solution and the number of moves of the solution found flatted out from scramble length 8 onwards.</span> <span md-src-pos="14121..14126">Also,</span> <span md-src-pos="14127..14229">the iterations needed significantly increased when the scramble length changed from 6 to 7 and 7 to 8.</span> <span md-src-pos="14230..14240">Therefore,</span> <span md-src-pos="14241..14260">it got me thinking,</span> <span md-src-pos="14261..14364">is it possible to train a neuro network that can predict first few steps of the solution and in return,</span> <span md-src-pos="14365..14417">decrease the iterations needed to find the solution?</span></p>
   <h3 id="6-iii-giving-hints-to-the-programme" md-src-pos="14419..14460">6. iii. Giving Hints to the Programme</h3>
   <p md-src-pos="14462..14920"><span md-src-pos="14462..14492">To address the above question,</span> <span md-src-pos="14493..14577">I first confirmed that if the number of iterations would really decrease when I give</span> "<span md-src-pos="14579..14584">hints</span>" <span md-src-pos="14586..14603">to the programme.</span> <span md-src-pos="14604..14644">I took the scramble with length 11 above</span> (<span md-src-pos="14646..14647">U</span>' <span md-src-pos="14649..14660">B U L U L R</span>' <span md-src-pos="14662..14663">B</span>' <span md-src-pos="14665..14668">L B</span>' <span md-src-pos="14670..14671">L</span>) <span md-src-pos="14673..14687">as an example.</span> <span md-src-pos="14688..14772">The first move of the solution is just the reverse of the last move of the scramble,</span> <span md-src-pos="14773..14783">which is L</span>' (<span md-src-pos="14786..14789">let</span>'<span md-src-pos="14790..14808">s call this a hint</span>)<span md-src-pos="14809..14810">.</span> <span md-src-pos="14811..14868">I tried to give the programme hint of 1 moves to 5 moves,</span> <span md-src-pos="14869..14891">and run for 100 times,</span> <span md-src-pos="14892..14920">the result are listed below.</span></p>
   <table md-src-pos="14922..15320">
    <thead>
     <tr md-src-pos="14922..14978">
      <th align="center" md-src-pos="14923..14940">Number of hints</th>
      <th align="center" md-src-pos="14941..14956">Average moves</th>
      <th align="center" md-src-pos="14957..14977">Average iterations</th>
     </tr>
    </thead>
    <tbody>
     <tr md-src-pos="15036..15092">
      <td align="center" md-src-pos="15037..15054">1</td>
      <td align="center" md-src-pos="15055..15070">8.67</td>
      <td align="center" md-src-pos="15071..15091">514261</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="15093..15149">
      <td align="center" md-src-pos="15094..15111">2</td>
      <td align="center" md-src-pos="15112..15127">9.91</td>
      <td align="center" md-src-pos="15128..15148">971047</td>
     </tr>
     <tr md-src-pos="15150..15206">
      <td align="center" md-src-pos="15151..15168">3</td>
      <td align="center" md-src-pos="15169..15184">9.43</td>
      <td align="center" md-src-pos="15185..15205">706315</td>
     </tr>
     <tr class="intellij-row-even" md-src-pos="15207..15263">
      <td align="center" md-src-pos="15208..15225">4</td>
      <td align="center" md-src-pos="15226..15241">7.88</td>
      <td align="center" md-src-pos="15242..15262">269720</td>
     </tr>
     <tr md-src-pos="15264..15320">
      <td align="center" md-src-pos="15265..15282">5</td>
      <td align="center" md-src-pos="15283..15298">6.44</td>
      <td align="center" md-src-pos="15299..15319">44363.8</td>
     </tr>
    </tbody>
   </table>
   <p md-src-pos="15322..15970"><span md-src-pos="15322..15390">The first great reduction in iteration is caused by some randomness,</span> <span md-src-pos="15391..15451">as a state of a skewb can be solved by different algorithms.</span> <span md-src-pos="15452..15522">We should instead focus on the next continuous reduction in iteration,</span> <span md-src-pos="15523..15643">we can see that giving it hint of 4 to 5 moves will greatly reduce the number of iterations needed to find the solution.</span> <span md-src-pos="15644..15654">Therefore,</span> <span md-src-pos="15655..15760">if we could train a neuro network that can predict possible first 5 moves base on the state of the skewb,</span> <span md-src-pos="15761..15821">we can greatly reduce the computational time of Monte Carlo.</span> <span md-src-pos="15822..15842">Reduced by how much?</span> <span md-src-pos="15843..15857">You might ask.</span> <span md-src-pos="15858..15874">For my computer,</span> <span md-src-pos="15875..15946">the time needed to find the solution without hint is on average 630 ms,</span> <span md-src-pos="15947..15970">while 47 ms with hints.</span></p>
   <h2 id="7-future-works" md-src-pos="15973..15991">7. Future Works</h2>
   <p md-src-pos="15992..16132"><span md-src-pos="15992..16036">The code could be generalised for 3x3 cubes,</span> <span md-src-pos="16037..16059">or even other puzzles,</span> <span md-src-pos="16060..16123">this could be made into a programme that solves different Rubik</span>'<span md-src-pos="16124..16132">s cubes.</span></p>
   <p md-src-pos="16134..16361"><span md-src-pos="16134..16139">Also,</span> <span md-src-pos="16140..16182">the colour recognition is not very robust.</span> <span md-src-pos="16183..16207">In low light conditions,</span> <span md-src-pos="16208..16254">or when the webcam quality is not good enough,</span> <span md-src-pos="16255..16304">the programme might fail to recognise the colour.</span> <span md-src-pos="16305..16361">The colour detection method in python could be improved.</span></p>
   <p md-src-pos="16363..16576"><span md-src-pos="16363..16370">Lastly,</span> <span md-src-pos="16371..16397">as mentioned in last part,</span> <span md-src-pos="16398..16517">we could train a neuro network to predict first few moves to reduce the number of moves that is needed to be simulated.</span> <span md-src-pos="16518..16576">The total computational time of 2 methods can be compared.</span></p>
   <h2 id="8-reference" md-src-pos="16578..16593">8. Reference</h2>
   <p md-src-pos="16595..16617"><span md-src-pos="16595..16616">External library used</span>:</p>
   <ul md-src-pos="16618..16656">
    <li md-src-pos="16618..16625">numpy</li>
    <li md-src-pos="16626..16634">Pillow</li>
    <li md-src-pos="16635..16643">OpenCV</li>
    <li md-src-pos="16644..16656">Matplotlib</li>
   </ul>
   <p md-src-pos="16658..16810"><span md-src-pos="16658..16692">Website used to animate algorithms</span>: <a href="https://alpha.twizzle.net/edit/?puzzle=skewb" md-src-pos="16694..16738">https://alpha.twizzle.net/edit/?puzzle=skewb</a><br><span md-src-pos="16741..16767">Github page of the website</span>: <a href="https://github.com/cubing/alg.cubing.net" md-src-pos="16769..16809">https://github.com/cubing/alg.cubing.net</a></p>
  </div>
 </body>
</html>
